services:
  happydeliver:
    build:
      context: .
      dockerfile: Dockerfile
    image: happydomain/happydeliver:latest
    container_name: happydeliver
    hostname: mail.happydeliver.local

    environment:
      # Set your domain and hostname
      DOMAIN: happydeliver.local
      HOSTNAME: mail.happydeliver.local

    ports:
      # SMTP port
      - "25:25"
      # API port
      - "8080:8080"

    volumes:
      # Persistent database storage
      - ./data:/var/lib/happydeliver
      # Log files
      - ./logs:/var/log/happydeliver

    restart: unless-stopped

volumes:
  data:
  logs:
